create table empresa(
	cnpj_empresa int primary key identity,
    nome_empresa varchar(45)
);

create table estacao(
	id_estacao int identity (100, 1),
    fk_empresa int,
    nome_estacao varchar(45),
    qnt_totem int,
    primary key (id_estacao),
    foreign key (fk_empresa) references empresa(cnpj_empresa)
);


create table gerente(
	id_gerente int primary key identity (200, 1),
    nome_gerente varchar(45),
    login_gerente varchar(50),
    senha_gerente varchar(20),
    fk_empresa int,
    fk_estacao int,
    foreign key(fk_estacao) references estacao(id_estacao),
    foreign key(fk_empresa) references empresa(cnpj_empresa)
    );
    

create table agente_de_estacao(
	id int primary key identity (300, 1),
    fk_estacao int,
    fk_empresa int,
    fk_gerente int,
    nome_agente varchar(45),
    login_agente varchar(50),
    senha_agente varchar(20),
    foreign key(fk_gerente) references gerente(id_gerente),
    foreign key(fk_estacao) references estacao(id_estacao),
    foreign key(fk_empresa) references empresa(cnpj_empresa)
);


create table totem(
	id_totem primary key varchar(60),
    fk_estacao int,
    primary key(id_totem),
    foreign key(fk_estacao) references estacao(id_estacao)
);

create table historico_totem(
	id_historico int primary key identity (500, 1),
    fk_totem varchar(60),
    cpu_totem_em_uso decimal,
    memoria_em_uso decimal,
    memoria_total decimal,
    sistema_operacional varchar(30),
    horario_totem default char(19),
    status_processador varchar(60),
    status_memoria varchar(60),
    foreign key(fk_totem) references totem(id_totem)
);

create table leads(
    id_lead int identity (600, 1),
    nome_lead varchar(45),
    email_lead varchar(45),
    descricao_lead varchar(200),
    primary key(id_lead)
);




---------------------
-- INSERTS
---------------------

insert into [dbo].[empresa] (nome_empresa) values
	('EmpresaTotemHub')

insert into [dbo].[estacao](fk_empresa, nome_estacao, qnt_totem) values
	(1, 'Estacao Barueri', 4)

insert into [dbo].[gerente] (nome_gerente, login_gerente, senha_gerente, fk_empresa, fk_estacao) values
	('Jorge', 'jorge@gmail.com', '123', 1, 100)

insert into [dbo].[agente_de_estacao] (nome_agente, login_agente, senha_agente) values
	('jorge', 'jorge@gmail.com', '123')

insert into [dbo].[agente_de_estacao] () values
    'jorge@gmail.com' AND senha_agente = '123' 

insert into [dbo].[totem](id_totem, fk_estacao) values
	('BFEBFBFF000806EC', 100)